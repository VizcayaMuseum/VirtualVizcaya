<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="images/favicon.ico">

    <title>Virtual Vizcaya</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="dist/css/bootstrap.css" rel="stylesheet">
    <link href="dist/css/bootstrap-grid.css" rel="stylesheet">
    <link href="dist/css/bootstrap-grid.min.css" rel="stylesheet">
    <link href="dist/css/bootstrap-reboot.css" rel="stylesheet">
    <link href="dist/css/bootstrap-reboot.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="assets/css/vizcaya.css" rel="stylesheet">

    <style>
        .tile{
            overflow: hidden !important;
            -moz-transition: all 0.3s;
            -webkit-transition: all 0.3s;
            transition: all 0.3s;
        }
        .tile_selected {
            /*
            -moz-transform: scale(1.2);
            -webkit-transform: scale(1.2);
            transform: scale(1.2);
                */
            
            transition: .3s ease;
            opacity: 0.7;
            background-color: rgba(0,0,0,0.5);
            color: #ffffff;
        }
        /*
        .icon3d {
            background-image: url("../images/question.svg");
            top: 50%;
            left: 50%;
        }
        */
        body {
            background-color: #fff !important;
        }

        h1 {
            position: sticky;
            font-size: 3em; /*3em*/ /*60px*/           
        }

        * {
            box-sizing: border-box;
        }

        .header {
            text-align: center;
            padding: 32px;
        }

        .row {
            display: -ms-flexbox; /* IE10 */
            display: flex;
            -ms-flex-wrap: wrap; /* IE10 */
            flex-wrap: wrap;
            padding: 0 4px;
        }

        .controls {
            right: 35%;
            width: 500px;
            bottom: -30px;
        }
            .controls .hotspot-controls {
                background: rgba(0,0,0,9);
                bottom: 0;
                border: none;
            }
                .controls .hotspot-controls .list {
                    background: rgba(0,0,0,1);
                    right: 5%;
                }       
    </style>
</head>

<body>
    <!--style="overflow: auto;"-->

    <div class="container-fluid">
        <div class="row">
            <nav class="col-md-2 d-none d-md-block bg-light sidebar">
                <div class="sidebar-sticky">
                    <h1 id="header-div">Virtual Vizcaya</h1> <hr />
                    <p>
                        For over 100 years, Vizcaya has endured Miami’s tropical climate and conditions along the shoreline of Biscayne Bay. Today, Vizcaya is vulnerable to sea level rise and climate change yet remains resilient. Through the use of 3D modeling and scanning Vizcaya documents its  most vulnerable historic assets to advance innovative approaches to conservation and preventive care. The resulting 3D images provide visitors a new opportunity and perspective to consider Vizcaya’s past, present and future.
                        <br /><br />This project was made possible by the John S. and James L. Knight Foundation.
                        <br /><br /><b>Touch the tiles to the right to begin a virtual experience.
                    </p>
                </div>
                <!--sticky footer-->
                <footer class="footer">
                    <div align="center">
                        <div id="langdiv_index" style="font-weight: lighter;"><a id="lang_selected"><b>English</b></a> | <a href="es/index.html">Español</a></div>
                    </div>
                </footer>
            </nav>

        </div>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" id="main">
            <!-- Photo Grid -->
            <div class="row">
                <div class="column">
                    <div class="tile"><a href="3d-documentation.html"><img id="tile1" src="images/works/3DDocumentation_English.png" style="width:100%"></a></div>
                    <div class="tile"><a href="swimmingpoolgrotto.html?1"><img id="tile2" src="https://s3.amazonaws.com/vizcaya/video/Alligator03.gif" style="width:100%"></a></div>
                    <div class="tile"><a href="barge.html?2"><img id="tile3" src="images/works/Mermaids01.jpg" style="width:100%"></a></div>
                </div>
                <div class="column">
                    <div class="tile"><a href="irma.html"><img id="tile4" src="images/works/IrmaFootage.gif" style="width:100%"></a></div>
                    <div class="tile"><a href="swimmingpoolgrotto.html?0"><img id="tile5" src="images/works/Grotto_English.png" style="width:100%"></a></div>
                    <div class="tile"><a href="1916barge.html?1"><img id="tile6" src="images/works/Herm1916.jpg" style="width:100%"></a></div>
                </div>
                <div class="column">
                    <div class="tile"><a href="barge.html?1"><img id="tile7" src="images/works/Herm.gif" style="width:100%"></a></div>
                    <div class="tile"><a href="barge.html?0"><img id="tile8" src="images/works/Barge_English.png" style="width:100%"></a></div>
                    <div class="tile"><a data-toggle="modal" href="#creditsModal"><img id="tile9" src="images/works/OurPartners_English.png" style="width:100%"></a></div>
                </div>
                <div class="column">
                    <div class="tile"><a href="1916barge.html?0"><img id="tile10" src="images/works/1916Barge_English.png" style="width:100%"></a></div>
                    <div class="tile"><a data-toggle="modal" href="#myVideo"><img id="tile11" src="images/works/videoTile.png" style="width:100%"></a></div>
                    <div class="tile"><a href="1916barge.html?2"><img id="tile12" src="images/works/1916mermaids.png" style="width:100%"></a></div>
                </div>
            </div>
            <!-- End Photo Grid -->
            <div class="row" id="bottom_row">
                <div class="showcase" id="showcase_row">
                    <div class="row" id="controls_row">
                        <div class="controls">
                            <div class="hotspot-controls">

                                <div id="prev" data-title="Previous Annotation" data-action="prev-annotation">
                                    <div id="prevDiv"><img id="prevIcon" src="images/caret-left.svg" /></div>
                                </div>

                                <div id="hotspots" class="hotspot-name" data-action="toggle-annotation-list"><b id="tilename">Touch To Tour</b></div>

                                <div id="next" data-title="Next Annotation" data-action="next-annotation">
                                    <div id="nextDiv"><img id="nextIcon" src="images/caret-right.svg" /></div>
                                </div>

                                <div id="lists" class="list hotspots-list visible">
                                    <ul class="js-scrollable">
                                        <li id="li1" class="link"><a data-hotspot-target="0" title="Grotesques"><span class="index">&sccue;</span>3D Documentation</a></li>
                                        <li id="li2" class="link"><a data-hotspot-target="1" title="Alligators"><span class="index">&sccue;</span>Alligators </a></li>
                                        <li id="li3" class="link"><a data-hotspot-target="2" title="2017 Sculptures"><span class="index">&sccue;</span>2017 Sculptures</a></li>
                                        <li id="li4" class="link"><a data-hotspot-target="3" title="Hurricane Irma"><span class="index">&sccue;</span>Hurricane Irma</a></li>
                                        <li id="li5" class="link"><a data-hotspot-target="4" title="Swimming Pool Grotto"><span class="index">&sccue;</span>Swimming Pool Grotto</a></li>
                                        <li id="li6" class="link"><a data-hotspot-target="5" title="1916 Herm"><span class="index">&sccue;</span>1916 Herm</a></li>
                                        <li id="li7" class="link"><a data-hotspot-target="6" title="2017 Herm"><span class="index">&sccue;</span>2017 Herm</a></li>
                                        <li id="li8" class="link"><a data-hotspot-target="7" title="2017 Barge"><span class="index">&sccue;</span>2017 Barge</a></li>
                                        <li id="li9" class="link"><a data-hotspot-target="8" title="Our Partners"><span class="index">&sccue;</span>Our Partners</a></li>
                                        <li id="li10" class="link"><a data-hotspot-target="9" title="1916 Barge"><span class="index">&sccue;</span>1916 Barge</a></li>
                                        <li id="li11" class="link"><a data-hotspot-target="10" title="Virtual Access Tour"><span class="index">&sccue;</span>Drone Footage</a></li>
                                        <li id="li12" class="link"><a data-hotspot-target="11" title="1916 Sculptures"><span class="index">&sccue;</span>1916 Sculptures</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </main>
        
    </div>
    
    <!-- Modal for HOUSE.HTML-->
    <div class="modal fade" id="myHouse">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Virtual Access Tour</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <img id="house-image" src="images/VirtualAcessTour_Pop-Up_Image.jpg"><br><br>
                    <p style="font-weight: lighter;">
                        Vizcaya was originally the private home of James Deering who spent winter seasons here from 1916 until his death in 1925.
                        As Deering aged, he used a wheelchair to move between floors on an elevator. Unfortunately, the elevator system was destroyed
                        in the 1926 hurricane and the elevator car is permanently parked on the second floor, located next to Deering’s bedroom.
                        Today, new technologies and 360 degree photography allow all visitors to virtually enter and explore decorated rooms and
                        hard-to-reach areas of the gardens.
                        <br /><br />Select start to begin a virtual access tour.
                    </p>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <a href="http://vizcaya.darumatech.com/VAT/kiosk/house.html"><button type="button" class="btn">Start</button></a>
                    <button type="button" class="btn" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!--Credits Modal-->
    <div class="modal fade" id="creditsModal">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <!-- Modal body -->
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <div class="container-fluid">

                        <div class="row featurette" style="padding-top: 1%;">
                            <div class="col-md-12 order-md-1">
                                <img class="featurette-image img-fluid mx-auto" src="images/KF_logo-stacked.png" alt="Generic placeholder image">
                                <p class="lead">
                                    <br />
                                    This project was made possible through support from the John S. and James L. Knight Foundation.
                                    <br />
                                    <h5>Our project partners are:</h5>
                                </p>
                            </div>
                        </div>

                        <hr class="featurette-divider" />

                        <div class="row featurette">
                            <div class="col-md-3 order-md-1" style="padding-top:2%;">
                                <img class="featurette-image img-fluid mx-auto" src="images/daruma_logo.png" alt="Generic placeholder image">
                            </div>
                            <div class="col-md-9 order-md-2" style="padding-top:1%;">
                                <h3>Daruma Tech</h3>
                                <p style="font-weight:lighter;">Daruma Tech is a full service technology company that specializes in 3D rendering and App development among other digital solutions for the private and public sectors.  Recent projects include an IOS and Android application that featured augmented reality videos and 3D illustrations to immerse the user in the Troy University and the update of an IOS and Android application for Tri-Rail that incorporates a data-driven, dynamic train schedule.  Daruma Tech will be contracted to finalize the 3D models of the Barge and Pool ceiling mural and develop the kiosk interface, VR/AR application and web module virtual online interactive.</p>
                            </div>
                        </div>

                        <hr class="featurette-divider" />

                        <div class="row featurette">
                            <div class="col-md-3 order-md-1" style="padding-top:2%;">
                                <img class="featurette-image img-fluid mx-auto" src="images/fiu_logo.png" alt="Generic placeholder image">
                            </div>
                            <div class="col-md-9 order-md-2" style="padding-top:1%;">
                                <h3>Florida International University – Miami Beach Urban Studios</h3>
                                <p style="font-weight:lighter;">The Miami Beach Urban Studios (MBUS) is a unique 16,000sf facility in the 420 Lincoln Road Building that hosts an interdisciplinary array of innovative exhibitions, classes, research laboratories, and events for the College of Communication, Architecture + The Arts (aka “CARTA,” which is comprised of the following departments: Architecture, Landscape Architecture, Interior Architecture, Music, Art/Art History, Theatre, Journalism + Media and Communication).  It also houses affiliated institutions (Sea Level Solution Center, Amernet String Quartet, ARC+, and temporarily, the Miami Urban Future Initiative, and the Ratcliffe Art + Design Incubator). MBUS houses the 3,500sf Knight-sponsored CARTA Innovation Lab, which with over 33 3D printers is one of the largest 3D printing laboratories of its kind in the United States. The lab is proud to have been selected to be a participant in the HP/EDUCAUSE Building the Campus of the Future Project.</p>
                            </div>
                        </div>

                        <hr class="featurette-divider" />

                        <div class="row featurette">
                            <div class="col-md-3 order-md-1" style="padding-top:2%;">
                                <img class="featurette-image img-fluid mx-auto" src="images/uf_logo.png" alt="Generic placeholder image">
                            </div>
                            <div class="col-md-9 order-md-2" style="padding-top:1%;">
                                <h3>The University of Florida, College of Design, Construction & Planning, Envision Heritage Program</h3>
                                <p style="font-weight:lighter;">Launched by the Historic Preservation Program in 2012, the University of Florida’s Envision Heritage explores how new and emerging digital technologies can be used to document, preserve, and interpret heritage sites. The research projects utilize laser scanning, photogrammetry and imaging from drones, among other technologies.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal for Video-->
    <div class="modal fade" id="myVideo">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div class="embed-responsive embed-responsive-16by9">
                        <video autoplay loop class="embed-responsive-item">
                            <source src="https://s3.amazonaws.com/vizcaya/video/Drone_Vizcaya.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>

    <script>

        /* Hotspots Control Dropup
        *****************************************************/
        $("#hotspots").click(function () {
            /*$("#lists").toggle('show');*/

            
            if (document.getElementById('tilename').innerHTML == "3D Documentation") {
                window.location.href = "3d-documentation.html";
            }
            if (document.getElementById('tilename').innerHTML == "Alligators"){
                window.location.href = "swimmingpoolgrotto.html?1";
            }
            if (document.getElementById('tilename').innerHTML == "2017 Sculptures") {
                window.location.href = "barge.html?2";
            }
            if (document.getElementById('tilename').innerHTML == "Hurricane Irma") {
                window.location.href = "irma.html";
            }
            if (document.getElementById('tilename').innerHTML == "Swimming Pool Grotto") {
                window.location.href = "swimmingpoolgrotto.html?0";
            }
            if (document.getElementById('tilename').innerHTML == "1916 Herm") {
                window.location.href = "1916barge.html?1";
            }
            if (document.getElementById('tilename').innerHTML == "2017 Herm") {
                window.location.href = "barge.html?1";
            }
            if (document.getElementById('tilename').innerHTML == "2017 Barge") {
                window.location.href = "barge.html?0";
            }
            if (document.getElementById('tilename').innerHTML == "Our Partners") {
                $('#creditsModal').modal('show');
            }
            if (document.getElementById('tilename').innerHTML == "1916 Barge") {
                window.location.href = "1916barge.html?0";
            }
            if (document.getElementById('tilename').innerHTML == "Drone Footage") {
                $('#myVideo').modal('show');
            }
            if (document.getElementById('tilename').innerHTML == "1916 Sculptures") {
                window.location.href = "1916barge.html?2";
            }
            
        });

        function tileSelection(newTitle, newTile) {
            document.getElementById('tilename').innerHTML = newTitle;

            document.getElementById(newTile).className += "tile_selected";

            const tileArray = ["tile1", "tile2", "tile3", "tile4", "tile5", "tile6",
                "tile7", "tile8", "tile9", "tile10", "tile11", "tile12"];

            var index = tileArray.indexOf(newTile);

            tileArray.splice(index, 1);

            for (i = 0; i < tileArray.length; i++) {
                var tileName = tileArray[i];
                document.getElementById(tileName).classList.remove('tile_selected');
            }
        }

        //Functions for each annotation
        function tile1() {
            /*window.location.href = "3d-documentation.html";*/
            tileSelection("3D Documentation", "tile1");
        }
        function tile2() {
            /*window.location.href = "swimmingpoolgrotto.html?1";*/
            tileSelection("Alligators", "tile2");
        }
        function tile3() {
            /*window.location.href = "barge.html?2";*/
            tileSelection("2017 Sculptures", "tile3");
        }
        function tile4() {
            /*window.location.href = "irma.html";*/
            tileSelection("Hurricane Irma", "tile4");
        }
        function tile5() {
            /*window.location.href = "swimmingpoolgrotto.html?0";*/
            tileSelection("Swimming Pool Grotto", "tile5");
        }
        function tile6() {
            /*window.location.href = "1916barge.html?1";*/
            tileSelection("1916 Herm", "tile6");
        }
        function tile7() {
            /*window.location.href = "barge.html?1";*/
            tileSelection("2017 Herm", "tile7");
        }
        function tile8() {
            /*window.location.href = "barge.html?0";*/
            tileSelection("2017 Barge", "tile8");
        }
        function tile9() {
            /*$('#creditsModal').modal('show');*/
            tileSelection("Our Partners", "tile9");
        }
        function tile10() {
            /*window.location.href = "1916barge.html?0";*/
            tileSelection("1916 Barge", "tile10");
        }
        function tile11() {
            /*$('#myVideo').modal('show');*/
            tileSelection("Drone Footage", "tile11");
        }
        function tile12() {
            /*window.location.href = "1916barge.html?2";*/
            tileSelection("1916 Sculptures", "tile12");
        }

        //Hotspot Dropup's Click Selection
        $("#li1").click(function () {
            tile1();
        });
        $("#li2").click(function () {
            tile2();
        });
        $("#li3").click(function () {
            tile3();
        });
        $("#li4").click(function () {
            tile4();
        });
        $("#li5").click(function () {
            tile5();
        });
        $("#li6").click(function () {
            tile6();
        });
        $("#li7").click(function () {
            tile7();
        });
        $("#li8").click(function () {
            tile8();
        });
        $("#li9").click(function () {
            tile9();
        });
        $("#li10").click(function () {
            tile10();
        });
        $("#li11").click(function () {
            tile11();
        });
        $("#li12").click(function () {
            tile12();
        });

        //Hotspot Dropup's Prev/Next Selection
        const functions = [];
        functions.push(tile1);
        functions.push(tile2);
        functions.push(tile3);
        functions.push(tile4);
        functions.push(tile5);
        functions.push(tile6);
        functions.push(tile7);
        functions.push(tile8);
        functions.push(tile9);
        functions.push(tile10);
        functions.push(tile11);
        functions.push(tile12);

        const length = functions.length;

        const getNextIdx = (idx = 0, length, direction) => {
            switch (direction) {
                case 'next': return (idx + 1) % length;
                case 'prev': return (idx == 0) && length - 1 || idx - 1;
                default: return idx;
            }
        }

        let idx; // idx is undefined, so getNewScene will take 0 as default
        const getNewScene = (direction) => {
            idx = getNextIdx(idx, length, direction);
            var sceneFunction = functions[idx];
            return sceneFunction();
        }

        $("#prev").click(function () {
            getNewScene('prev');
        });

        $("#next").click(function () {
            getNewScene('next');
        });
        /*
        //Temp solution to hide list when a hotspot is selected
        function hideList(listItem) {
            var openLink = document.getElementById(listItem);
            openLink.addEventListener('click', clickHandler, false);
            function clickHandler() {
                var submenu = document.getElementById('lists');
                submenu.style.display = 'none';
            }
        }

        hideList('li1');
        hideList('li2');
        hideList('li3');
        hideList('li4');
        hideList('li5');
        hideList('li6');
        hideList('li7');
        hideList('li8');
        hideList('li9');
        hideList('li10');
        hideList('li11');
        hideList('li12');
        */
    </script>

</body>
</html>